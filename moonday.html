<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./style.css">
<style>
	@import url('https://fonts.googleapis.com/css2?family=Song+Myung&display=swap');
 
#moonDays {padding-bottom: 50px;}

    h1 {
      text-align: center;
      background-color: #f4f4f4;
      padding: 10px;
      margin: 0;
    }
    .year {
      margin: 20px 0 0 15px;
    }
    .month {
      margin-top: 10px;
    }
    .upcoming-moon {
      color: red;
font-size:1.4rem;
    }
    ul {
font-family:"Song Myung",serif;
	font-weight:400;
font-size:1.1rem;
      list-style-type: none;
      padding: 0;
      margin: 0;
    }
    li {
      padding: 0px;
    }
    span {
      display: block;
    }
    h2, h3 {
      font-size: 1rem;
    }
  </style>
<title>Ashtanga_Yang</title>
</head>
<body>

<div class="container">
	<p>
		 &nbsp;
	</p>
	<p>
		<img src="logo.jpg" width="50px">
	</p>
	<div class="moon">
		<div class="disc">
		</div>
	</div>
	<p>
		 &nbsp;
	</p>
	<p>
		<span class="md1">● New Moon<br>
		 ○ Full Moon</span>
	</p>
<p>
<a href="https://www.instagram.com/ashtanga_yang">@ashtanga_yang</a>
</p>
<p>
		 &nbsp;
	</p>

<div id="moonDays"></div>
<script>
	const moonDays = {
  2025: [
    { date: "2025-01-14", phase: "○" },
    { date: "2025-01-29", phase: "●" },
    { date: "2025-02-12", phase: "○" },
    { date: "2025-02-28", phase: "●" },
    { date: "2025-03-14", phase: "○" },
    { date: "2025-03-29", phase: "●" },
    { date: "2025-04-13", phase: "○" },
    { date: "2025-04-28", phase: "●" },
  ]
};

const currentDate = new Date();
const currentYear = currentDate.getFullYear();
const currentMonth = currentDate.getMonth() + 1;

// 날짜를 YYYY-MM-DD 형식으로 변환
function formatDate(date) {
  const d = new Date(date);
  return d.getFullYear() + '-' + (d.getMonth() + 1).toString().padStart(2, '0') + '-' + d.getDate().toString().padStart(2, '0');
}

// 요일 가져오기 (한글)
function getDayOfWeek(date) {
  const daysOfWeek = ['일', '월', '화', '수', '목', '금', '토'];
  const d = new Date(date);
  return daysOfWeek[d.getDay()];
}

// 해당 연도와 월의 문데이 목록 가져오기
function createMoonDayList(year, month) {
  return moonDays[year].filter(day => {
    const moonDay = new Date(day.date);
    return moonDay.getMonth() + 1 === month;
  });
}

// 가장 가까운 다가오는 문데이 찾기
function getNextMoonDay(moonDayList) {
  const futureMoonDays = moonDayList.filter(day => new Date(day.date) >= currentDate);
  return futureMoonDays.length > 0 ? futureMoonDays[0].date : null;
}

function displayMoonDays() {
  const moonDaysContainer = document.getElementById('moonDays');
  moonDaysContainer.innerHTML = ""; // 기존 데이터 초기화

  for (let year = 2025; year <= 2025; year++) {
    const yearDiv = document.createElement('div');
    yearDiv.classList.add('year');
    const yearTitle = document.createElement('h2');
    yearTitle.innerText = `${year}년`;
    yearDiv.appendChild(yearTitle);

    for (let month = 1; month <= 12; month++) {
      const monthDiv = document.createElement('div');
      monthDiv.classList.add('month');
      const monthDays = createMoonDayList(year, month);

      if (monthDays.length > 0) {
        const monthTitle = document.createElement('h3');
        monthTitle.innerText = `${month}월`;
        monthDiv.appendChild(monthTitle);

        const ul = document.createElement('ul');
        const nextMoonDay = getNextMoonDay(monthDays); // 가장 가까운 다가오는 문데이

        monthDays.forEach(day => {
          const dayDate = new Date(day.date);
          const li = document.createElement('li');
          const dateSpan = document.createElement('span');
          dateSpan.innerText = `${formatDate(day.date)} (${getDayOfWeek(day.date)})  ${day.phase}`;

          // 현재 날짜에 해당하는 문데이는 빨간색 강조
          if (formatDate(day.date) === formatDate(currentDate)) {
            dateSpan.classList.add('current-moon'); 
          } 
          // 다음 문데이는 빨간색 강조
          else if (formatDate(day.date) === nextMoonDay) {
            dateSpan.classList.add('upcoming-moon');
          }

          li.appendChild(dateSpan);
          ul.appendChild(li);
        });

        monthDiv.appendChild(ul);
        yearDiv.appendChild(monthDiv);
      }
    }

    moonDaysContainer.appendChild(yearDiv);
  }
}

displayMoonDays();
</script>

</div>

	  <!-- 하단 고정 메뉴 -->
    <div class="fixed-menu">
        <a href="index.html">소개</a>
        <a href="class.html">수업</a>
        <a href="https://open.kakao.com/o/sCpd2RLf">문의</a>
<a href="#"><u>문데이</u></a>
    </div>
</body>
</html>
