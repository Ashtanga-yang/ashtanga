<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./style.css">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Song+Myung&display=swap');

  .year {
    margin-bottom: 20px;
  }

  .current-moon {
    color: red !important;
    font-weight: bold;
  }

  .next-moon {
    color: orange !important;
    font-weight: bold;
  }

  ul {
    list-style: none;
    padding: 0;
  }

  li {
    margin: 5px 0;
  }
</style>
<title>Ashtanga_Yang</title>
</head>
<body>

<div class="container">
  <p>
     &nbsp;
  </p>
  <p>
    <img src="logo.jpg" width="50px">
  </p>
  <div class="moon">
    <div class="disc">
    </div>
  </div>
  <p>
     &nbsp;
  </p>
  <p>
    <span class="md1">● New Moon<br>
     ○ Full Moon</span>
  </p>
  <p>
  <a href="https://www.instagram.com/ashtanga_yang">@ashtanga_yang</a>ㅇㅇㅇㅇ
  </p>
  <p>
     &nbsp;
  </p>
 <div id="moonDays"></div>

  <script>
    const moonDays = {
      2025: [
        { date: "2025-01-14", phase: "○" },
        { date: "2025-01-29", phase: "●" },
        { date: "2025-02-12", phase: "○" },
        { date: "2025-02-28", phase: "●" },
        { date: "2025-03-14", phase: "○" },
        { date: "2025-03-29", phase: "●" },
        { date: "2025-04-13", phase: "○" },
        { date: "2025-04-28", phase: "●" },
        { date: "2025-05-13", phase: "○" },
        { date: "2025-05-27", phase: "●" },
        { date: "2025-06-11", phase: "○" },
        { date: "2025-06-25", phase: "●" },
        { date: "2025-07-11", phase: "○" },
        { date: "2025-07-25", phase: "●" },
        { date: "2025-08-09", phase: "○" },
        { date: "2025-08-23", phase: "●" },
        { date: "2025-09-08", phase: "○" },
        { date: "2025-09-22", phase: "●" },
        { date: "2025-10-07", phase: "○" },
        { date: "2025-10-21", phase: "●" },
        { date: "2025-11-05", phase: "○" },
        { date: "2025-11-20", phase: "●" },
        { date: "2025-12-05", phase: "○" },
        { date: "2025-12-20", phase: "●" }
      ],
      2026: [
        { date: "2026-01-02", phase: "○" },
        { date: "2026-01-17", phase: "●" },
        { date: "2026-01-31", phase: "○" },
        { date: "2026-02-16", phase: "●" },
        { date: "2026-03-02", phase: "○" },
        { date: "2026-03-18", phase: "●" },
        { date: "2026-04-01", phase: "○" },
        { date: "2026-04-16", phase: "●" },
        { date: "2026-04-30", phase: "○" },
        { date: "2026-05-16", phase: "●" },
        { date: "2026-05-30", phase: "○" },
        { date: "2026-06-14", phase: "●" }
      ],
      2027: [
        { date: "2027-01-06", phase: "○" },
        { date: "2027-01-20", phase: "●" },
        { date: "2027-02-04", phase: "○" },
        { date: "2027-02-18", phase: "●" },
        { date: "2027-03-05", phase: "○" },
        { date: "2027-03-19", phase: "●" },
        { date: "2027-04-03", phase: "○" },
        { date: "2027-04-17", phase: "●" },
        { date: "2027-05-02", phase: "○" },
        { date: "2027-05-16", phase: "●" },
        { date: "2027-06-01", phase: "○" },
        { date: "2027-06-15", phase: "●" },
        { date: "2027-07-01", phase: "○" },
        { date: "2027-07-16", phase: "●" },
        { date: "2027-08-01", phase: "○" },
        { date: "2027-08-15", phase: "●" },
        { date: "2027-09-01", phase: "○" },
        { date: "2027-09-15", phase: "●" },
        { date: "2027-10-01", phase: "○" },
        { date: "2027-10-15", phase: "●" },
        { date: "2027-11-01", phase: "○" },
        { date: "2027-11-15", phase: "●" },
        { date: "2027-12-01", phase: "○" },
        { date: "2027-12-15", phase: "●" }
      ]
    };

    const currentDate = new Date();

    function formatDate(date) {
      const d = new Date(date);
      return `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d
        .getDate()
        .toString()
        .padStart(2, '0')}`;
    }

    function displayMoonDays() {
      const moonContainer = document.querySelector("#moonDays");

      let nextMoonDayFound = false;
      let nextNextMoonDayFound = false;

      for (const year in moonDays) {
        const yearDiv = document.createElement("div");
        yearDiv.classList.add("year");

        const yearTitle = document.createElement("h2");
        yearTitle.textContent = `${year}년`;
        yearDiv.appendChild(yearTitle);

        moonDays[year].forEach((day) => {
          const moonDate = new Date(day.date);
          const diff = (moonDate - currentDate) / (1000 * 60 * 60 * 24);

          if (diff < -1) return;

          const dayDiv = document.createElement("div");
          dayDiv.textContent = `${formatDate(day.date)} ${day.phase}`;

          // 오늘이 문데이일 경우
          if (diff === 0) {
            dayDiv.classList.add("current-moon");
            setTimeout(() => {
              dayDiv.remove();
            }, 24 * 60 * 60 * 1000); // 24시간 후 삭제
          }
          // 가장 가까운 문데이 (빨강 표시)
          else if (!nextMoonDayFound && diff > 0) {
            dayDiv.classList.add("current-moon");
            nextMoonDayFound = true;

            setTimeout(() => {
              dayDiv.remove();
            }, 24 * 60 * 60 * 1000); // 24시간 후 삭제
          }
          // 그 다음 문데이 (주황색 표시)
          else if (!nextNextMoonDayFound && diff > 0) {
            dayDiv.classList.add("next-moon");
            nextNextMoonDayFound = true;

            setTimeout(() => {
              dayDiv.remove();
            }, 24 * 60 * 60 * 1000); // 24시간 후 삭제
          }

          yearDiv.appendChild(dayDiv);
        });

        moonContainer.appendChild(yearDiv);
      }
    }

    displayMoonDays();
  </script>

  <!-- 하단 고정 메뉴 -->
  <div class="fixed-menu">
      <a href="index.html">소개</a>
      <a href="class.html">수업</a>
      <a href="https://open.kakao.com/o/sCpd2RLf">문의</a>
      <a href="#"><u>문데이</u></a>
  </div>
</body>
</html>
